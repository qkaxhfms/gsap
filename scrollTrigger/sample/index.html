<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample</title>
    <link rel="stylesheet" href="style.css">
    <script></script>
</head>
<body>
    <!-- header (s) -->
    <header id="header">
        header
    </header>
    <!-- header (e) -->

    <main id="main">
        <!-- section-visual (s)-->
        <section class="section-visual">
            <div class="inner">
                visual
            </div>
        </section>
        <!-- section-visual (e)-->

        <!-- section-visual (s)-->
        <section class="section-intro">
            <div class="inner">
                <div class="txtWrap">
                    <div class="txt">1</div>
                </div>
                <div class="txtWrap">
                    <div class="txt">2</div>
                </div>
                <div class="txtWrap">
                    <div class="txt">3</div>
                </div>
            </div>
            <div class="inner">
                right
            </div>
        </section>
        <!-- section-visual (e)-->

        <!-- section-visual (s)-->
        <section class="section-discussion">
            <div class="inner">
                <div class="box">1</div>
                <div class="box">2</div>
                <div class="box">3</div>
            </div>
        </section>
        <!-- section-visual (e)-->
    </main>

    <footer id="footer">
        footer
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js"></script>	
    <script>
        // visual
        ScrollTrigger.create({
            trigger:".section-visual .inner",
            start:"top 0%",
            end:"+=80vh",
            markers:true,
            pin:true,
            pinSpacing:false
        })

        // main
        const txts = gsap.utils.toArray(".txtWrap");
        txts.forEach(txt => {
            console.log(txt);
            const anim = gsap.to(txt,{
                duration:2,
                opacity:1,
                x:"5vw",
                pause:true,
                stagger:0.5,
            })

            ScrollTrigger.create({
                trigger:txt,
                markers:true,
            })
            
            ScrollTrigger.create({
                trigger:txt,
                onEnter: () => anim.play(),
            })

            ScrollTrigger.create({
                trigger:txt,
                onLeaveBack: () => anim.pause(0),
            })

        })

    </script>
</body>
</html>